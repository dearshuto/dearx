syntax = "proto3";

package dearx_viewer;

// import
import "google/protobuf/timestamp.proto";
import "google/protobuf/duration.proto";

message Color
{
    float red = 1;
    float green = 2;
    float blue = 3;
    float alpha = 4;
}

message ShaderBinary
{
    bytes vertex_shader_binary = 1;
    bytes pixel_shader_binary = 2;
    bytes compute_shader_binary = 3;

}

message Mesh
{
    repeated float vertices = 1;
    repeated uint32 indices = 2;
}

message GetMeshReply
{
    Mesh mesh = 1;
}

message GetMeshRequest
{
}

message GetShaderReply
{
    ShaderBinary shader_binary = 1;
}

message GetShaderRequest
{
}

message GetSceneInfoRequest
{
    bool is_mesh_count_required = 1;
}

message GetSceneInfoReply
{
    int32 mesh_count = 1;

    // 以下の要素は通信をデバッグするための情報。将来的に消す。
    float red = 2;
    float green = 3;
    float blue = 4;
}

message GetRequest
{
    GetSceneInfoRequest scene_info_request = 1;
    GetMeshRequest mesh_request = 2;
    GetShaderRequest shader_request = 3;
}

message GetReply
{
    GetSceneInfoReply scene_info_reply = 1;
    GetMeshReply mesh_reply = 2;
    GetShaderReply shader_reply = 3;
}

message CreateRequest
{
    int32 id = 1;
}

message CreateReply
{
    int32 id = 1;
}

message DeleteRequest
{
    int32 id = 1;
}

message DeleteReply
{
    int32 id = 1;
}

message UpdateRequest
{
    int32 id = 1;
}

message UpdateReply
{
    int32 id = 1;
}
